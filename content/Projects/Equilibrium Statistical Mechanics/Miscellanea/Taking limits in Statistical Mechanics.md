Instead of taking limits like an human being, in Statistical Mechanics one usually takes them like a butcher.
This, while not great, is still convenient, leading to the same result of the formal calculation, but to a faster execution.
There are however some unwritten rules.

1. Given a function, start from the most inner argument.
2. If a divergence appears, simplify if possible
3. If the divergence makes sense, accept it like a man/woman